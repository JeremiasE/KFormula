<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>KD Chart 2: KDChartTextArea.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>KDChartTextArea.cpp</h1><a href="_k_d_chart_text_area_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/****************************************************************************</span>
00002 <span class="comment"> ** Copyright (C) 2006 Klar√§lvdalens Datakonsult AB.  All rights reserved.</span>
00003 <span class="comment"> **</span>
00004 <span class="comment"> ** This file is part of the KD Chart library.</span>
00005 <span class="comment"> **</span>
00006 <span class="comment"> ** This file may be distributed and/or modified under the terms of the</span>
00007 <span class="comment"> ** GNU General Public License version 2 as published by the Free Software</span>
00008 <span class="comment"> ** Foundation and appearing in the file LICENSE.GPL included in the</span>
00009 <span class="comment"> ** packaging of this file.</span>
00010 <span class="comment"> **</span>
00011 <span class="comment"> ** Licensees holding valid commercial KD Chart licenses may use this file in</span>
00012 <span class="comment"> ** accordance with the KD Chart Commercial License Agreement provided with</span>
00013 <span class="comment"> ** the Software.</span>
00014 <span class="comment"> **</span>
00015 <span class="comment"> ** This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE</span>
00016 <span class="comment"> ** WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.</span>
00017 <span class="comment"> **</span>
00018 <span class="comment"> ** See http://www.kdab.net/kdchart for</span>
00019 <span class="comment"> **   information about KDChart Commercial License Agreements.</span>
00020 <span class="comment"> **</span>
00021 <span class="comment"> ** Contact info@kdab.net if any conditions of this</span>
00022 <span class="comment"> ** licensing are not clear to you.</span>
00023 <span class="comment"> **</span>
00024 <span class="comment"> **********************************************************************/</span>
00025 
00026 <span class="preprocessor">#include "<a class="code" href="_k_d_chart_text_area_8h.html">KDChartTextArea.h</a>"</span>
00027 <span class="preprocessor">#include "KDChartTextArea_p.h"</span>
00028 
00029 <span class="preprocessor">#include &lt;qglobal.h&gt;</span>
00030 
00031 <span class="preprocessor">#include &lt;QPainter&gt;</span>
00032 <span class="preprocessor">#include &lt;QRect&gt;</span>
00033 
00034 <span class="preprocessor">#include &lt;KDABLibFakes&gt;</span>
00035 
00036 
00037 <span class="keyword">using</span> <span class="keyword">namespace </span>KDChart;
00038 
00039 TextArea::Private::Private() :
00040     <a class="code" href="class_k_d_chart_1_1_abstract_area_base.html">AbstractAreaBase</a>::Private()
00041 {
00042     <span class="comment">// this bloc left empty intentionally</span>
00043 }
00044 
00045 
00046 TextArea::Private::~Private()
00047 {
00048     <span class="comment">// this bloc left empty intentionally</span>
00049 }
00050 
00051 
<a name="l00052"></a><a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areab3">00052</a> <a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areab3">TextArea::TextArea</a>()
00053     : <a class="code" href="class_q_object.html">QObject</a>()
00054     , KDChart::<a class="code" href="class_k_d_chart_1_1_abstract_area_base.html">AbstractAreaBase</a>()
00055     , KDChart::<a class="code" href="class_k_d_chart_1_1_text_layout_item.html">TextLayoutItem</a>()
00056 {
00057     <span class="comment">// this bloc left empty intentionally</span>
00058 }
00059 
<a name="l00060"></a><a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areaa35">00060</a> <a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areaa35">TextArea::~TextArea</a>()
00061 {
00062     <span class="comment">// this bloc left empty intentionally</span>
00063 }
00064 
00065 
00066 <span class="keywordtype">void</span> TextArea::init()
00067 {
00068     <span class="comment">// this bloc left empty intentionally</span>
00069 }
00070 
<a name="l00071"></a><a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areaa18">00071</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areaa18">TextArea::paintIntoRect</a>( QPainter&amp; painter, <span class="keyword">const</span> QRect&amp; rect )
00072 {
00073     <span class="keyword">const</span> QRect oldGeometry( <a class="code" href="class_k_d_chart_1_1_text_layout_item.html#_k_d_chart_1_1_text_layout_itema2">geometry</a>() );
00074     <span class="keywordflow">if</span>( oldGeometry != rect )
00075         <a class="code" href="class_k_d_chart_1_1_text_layout_item.html#_k_d_chart_1_1_text_layout_itema16">setGeometry</a>( rect );
00076     painter.translate( rect.left(), rect.top() );
00077     <a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areaa14">paintAll</a>( painter );
00078     painter.translate( -rect.left(), -rect.top() );
00079     <span class="keywordflow">if</span>( oldGeometry != rect )
00080         <a class="code" href="class_k_d_chart_1_1_text_layout_item.html#_k_d_chart_1_1_text_layout_itema16">setGeometry</a>( oldGeometry );
00081 }
00082 
<a name="l00083"></a><a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areaa14">00083</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areaa14">TextArea::paintAll</a>( QPainter&amp; painter )
00084 {
00085     <span class="comment">// Paint the background and frame</span>
00086     <a class="code" href="class_k_d_chart_1_1_abstract_area_base.html#_k_d_chart_1_1_text_areaa15">paintBackground</a>( painter, <a class="code" href="class_k_d_chart_1_1_text_layout_item.html#_k_d_chart_1_1_text_layout_itema2">geometry</a>() );
00087     <a class="code" href="class_k_d_chart_1_1_abstract_area_base.html#_k_d_chart_1_1_text_areaa17">paintFrame</a>(      painter, <a class="code" href="class_k_d_chart_1_1_text_layout_item.html#_k_d_chart_1_1_text_layout_itema2">geometry</a>() );
00088 
00089     <span class="comment">// temporarily adjust the widget size, to be sure all content gets calculated</span>
00090     <span class="comment">// to fit into the inner rectangle</span>
00091     <span class="keyword">const</span> QRect oldGeometry( <a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areab0">areaGeometry</a>()  );
00092     QRect inner( <a class="code" href="class_k_d_chart_1_1_abstract_area_base.html#_k_d_chart_1_1_text_areab1">innerRect</a>() );
00093     inner.moveTo(
00094         oldGeometry.left() + inner.left(),
00095         oldGeometry.top()  + inner.top() );
00096     <span class="keyword">const</span> <span class="keywordtype">bool</span> needAdjustGeometry = oldGeometry != inner;
00097     <span class="keywordflow">if</span>( needAdjustGeometry )
00098         <a class="code" href="class_k_d_chart_1_1_text_layout_item.html#_k_d_chart_1_1_text_layout_itema16">setGeometry</a>( inner );
00099     <a class="code" href="class_k_d_chart_1_1_text_layout_item.html#_k_d_chart_1_1_text_layout_itema8">paint</a>( &amp;painter );
00100     <span class="keywordflow">if</span>( needAdjustGeometry )
00101         <a class="code" href="class_k_d_chart_1_1_text_layout_item.html#_k_d_chart_1_1_text_layout_itema16">setGeometry</a>( oldGeometry );
00102     <span class="comment">//qDebug() &lt;&lt; "TextAreaWidget::paintAll() done.";</span>
00103 }
00104 
<a name="l00105"></a><a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areab0">00105</a> QRect <a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areab0">TextArea::areaGeometry</a>()<span class="keyword"> const</span>
00106 <span class="keyword"></span>{
00107     <span class="keywordflow">return</span> <a class="code" href="class_k_d_chart_1_1_text_layout_item.html#_k_d_chart_1_1_text_layout_itema2">geometry</a>();
00108 }
00109 
<a name="l00110"></a><a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areab2">00110</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_text_area.html#_k_d_chart_1_1_text_areab2">TextArea::positionHasChanged</a>()
00111 {
00112     emit positionChanged( <span class="keyword">this</span> );
00113 }
00114 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu May 10 11:06:25 2007 for KD Chart 2 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > </a>1.3.6 </small></address>
</body>
</html>

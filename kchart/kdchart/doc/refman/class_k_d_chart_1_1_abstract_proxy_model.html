<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>KD Chart 2: KDChart::AbstractProxyModel Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespace_k_d_chart.html">KDChart</a>::<a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html">AbstractProxyModel</a></div>
<h1>KDChart::AbstractProxyModel Class Reference</h1><!-- doxytag: class="KDChart::AbstractProxyModel" --><!-- doxytag: inherits="QAbstractProxyModel" --><code>#include &lt;<a class="el" href="_k_d_chart_abstract_proxy_model_8h-source.html">KDChartAbstractProxyModel.h</a>&gt;</code>
<p>
Inheritance diagram for KDChart::AbstractProxyModel:<p><center><img src="class_k_d_chart_1_1_abstract_proxy_model__inherit__graph.png" border="0" usemap="#_k_d_chart_1_1_abstract_proxy_model__inherit__map" alt="Inheritance graph"></center>
<map name="_k_d_chart_1_1_abstract_proxy_model__inherit__map">
<area href="class_k_d_chart_1_1_attributes_model.html" shape="rect" coords="28,155,223,181" alt="">
<area href="class_q_abstract_proxy_model.html" shape="rect" coords="43,5,208,32" alt="">
<area href="class_k_d_chart_1_1_private_attributes_model.html" shape="rect" coords="6,229,246,256" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for KDChart::AbstractProxyModel:<p><center><img src="class_k_d_chart_1_1_abstract_proxy_model__coll__graph.png" border="0" usemap="#_k_d_chart_1_1_abstract_proxy_model__coll__map" alt="Collaboration graph"></center>
<map name="_k_d_chart_1_1_abstract_proxy_model__coll__map">
<area href="class_q_abstract_proxy_model.html" shape="rect" coords="33,5,199,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="class_k_d_chart_1_1_abstract_proxy_model-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for all proxy models used inside KD <a class="el" href="class_k_d_chart_1_1_chart.html">Chart</a>. 
<p>

<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8h-source.html#l00043">43</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8h-source.html">KDChartAbstractProxyModel.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#d90c735a34816d274ffc9420ae2858e8">AbstractProxyModel</a> (<a class="el" href="class_q_object.html">QObject</a> *parent=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is basically KDAbstractProxyModel, but only the bits that we really need from it.  <a href="#d90c735a34816d274ffc9420ae2858e8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">QModelIndex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#b481e34906669ef6bbd433736ef98671">index</a> (int row, int col, const QModelIndex &amp;index) const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">QModelIndex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#4a00cfa035656fb3ec5e277927cfe730">mapFromSource</a> (const QModelIndex &amp;sourceIndex) const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">QModelIndex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#58dbf3af65122928356f74e2ad98b44e">mapToSource</a> (const QModelIndex &amp;proxyIndex) const</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">QModelIndex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#ad5f40e26b76c548b0c50205767d5fdb">parent</a> (const QModelIndex &amp;index) const</td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d90c735a34816d274ffc9420ae2858e8"></a><!-- doxytag: member="KDChart::AbstractProxyModel::AbstractProxyModel" ref="d90c735a34816d274ffc9420ae2858e8" args="(QObject *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KDChart::AbstractProxyModel::AbstractProxyModel           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_q_object.html">QObject</a> *&nbsp;</td>
          <td class="paramname"> <em>parent</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is basically KDAbstractProxyModel, but only the bits that we really need from it. 
<p>

<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00041">41</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.<div class="fragment"><pre class="fragment"><a name="l00042"></a>00042   : <a class="code" href="class_q_abstract_proxy_model.html">QAbstractProxyModel</a>(<a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#ad5f40e26b76c548b0c50205767d5fdb">parent</a>) {}
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b481e34906669ef6bbd433736ef98671"></a><!-- doxytag: member="KDChart::AbstractProxyModel::index" ref="b481e34906669ef6bbd433736ef98671" args="(int row, int col, const QModelIndex &amp;index) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QModelIndex KDChart::AbstractProxyModel::index           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QModelIndex &amp;&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
[reimplemented] 
<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00084">84</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.
<p>
References <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00052">mapFromSource()</a>, and <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00065">mapToSource()</a>.
<p>
Referenced by <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00462">KDChart::AttributesModel::setHeaderData()</a>, and <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00498">KDChart::AttributesModel::setModelData()</a>.<div class="fragment"><pre class="fragment"><a name="l00085"></a>00085 {
<a name="l00086"></a>00086     Q_ASSERT(sourceModel());
<a name="l00087"></a>00087     <span class="keywordflow">return</span> <a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#4a00cfa035656fb3ec5e277927cfe730">mapFromSource</a>(sourceModel()-&gt;<a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#b481e34906669ef6bbd433736ef98671">index</a>( row, col, <a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#58dbf3af65122928356f74e2ad98b44e">mapToSource</a>(<a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#b481e34906669ef6bbd433736ef98671">index</a>) ));
<a name="l00088"></a>00088 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4a00cfa035656fb3ec5e277927cfe730"></a><!-- doxytag: member="KDChart::AbstractProxyModel::mapFromSource" ref="4a00cfa035656fb3ec5e277927cfe730" args="(const QModelIndex &amp;sourceIndex) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QModelIndex KDChart::AbstractProxyModel::mapFromSource           </td>
          <td>(</td>
          <td class="paramtype">const QModelIndex &amp;&nbsp;</td>
          <td class="paramname"> <em>sourceIndex</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
[reimplemented] 
<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00052">52</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.
<p>
Referenced by <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00084">index()</a>, and <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00090">parent()</a>.<div class="fragment"><pre class="fragment"><a name="l00053"></a>00053 {
<a name="l00054"></a>00054   <span class="keywordflow">if</span> ( !sourceIndex.isValid() )
<a name="l00055"></a>00055     <span class="keywordflow">return</span> QModelIndex();
<a name="l00056"></a>00056   <span class="comment">//qDebug() &lt;&lt; "sourceIndex.model()="&lt;&lt;sourceIndex.model();</span>
<a name="l00057"></a>00057   <span class="comment">//qDebug() &lt;&lt; "model()="&lt;&lt;sourceModel();</span>
<a name="l00058"></a>00058   Q_ASSERT( sourceIndex.model() == sourceModel() );
<a name="l00059"></a>00059 
<a name="l00060"></a>00060   <span class="comment">// Create an index that preserves the internal pointer from the source;</span>
<a name="l00061"></a>00061   <span class="comment">// this way AbstractProxyModel preserves the structure of the source model</span>
<a name="l00062"></a>00062   <span class="keywordflow">return</span> createIndex( sourceIndex.row(), sourceIndex.column(), sourceIndex.internalPointer() );
<a name="l00063"></a>00063 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="58dbf3af65122928356f74e2ad98b44e"></a><!-- doxytag: member="KDChart::AbstractProxyModel::mapToSource" ref="58dbf3af65122928356f74e2ad98b44e" args="(const QModelIndex &amp;proxyIndex) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QModelIndex KDChart::AbstractProxyModel::mapToSource           </td>
          <td>(</td>
          <td class="paramtype">const QModelIndex &amp;&nbsp;</td>
          <td class="paramname"> <em>proxyIndex</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
[reimplemented] 
<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00065">65</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.
<p>
Referenced by <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00523">KDChart::AttributesModel::columnCount()</a>, <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00373">KDChart::AttributesModel::data()</a>, <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00084">index()</a>, <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00090">parent()</a>, <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00514">KDChart::AttributesModel::rowCount()</a>, and <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00443">KDChart::AttributesModel::setData()</a>.<div class="fragment"><pre class="fragment"><a name="l00066"></a>00066 {
<a name="l00067"></a>00067   <span class="keywordflow">if</span> ( !proxyIndex.isValid() )
<a name="l00068"></a>00068     <span class="keywordflow">return</span> QModelIndex();
<a name="l00069"></a>00069   <span class="keywordflow">if</span>( proxyIndex.model() != this )
<a name="l00070"></a>00070     qDebug() &lt;&lt; proxyIndex.model() &lt;&lt; <span class="keyword">this</span>;
<a name="l00071"></a>00071   Q_ASSERT( proxyIndex.model() == this );
<a name="l00072"></a>00072   <span class="comment">// So here we need to create a source index which holds that internal pointer.</span>
<a name="l00073"></a>00073   <span class="comment">// No way to pass it to sourceModel()-&gt;index... so we have to do the ugly way:</span>
<a name="l00074"></a>00074   QModelIndex sourceIndex;
<a name="l00075"></a>00075   KDPrivateModelIndex* hack = reinterpret_cast&lt;KDPrivateModelIndex*&gt;(&amp;sourceIndex);
<a name="l00076"></a>00076   hack-&gt;r = proxyIndex.row();
<a name="l00077"></a>00077   hack-&gt;c = proxyIndex.column();
<a name="l00078"></a>00078   hack-&gt;p = proxyIndex.internalPointer();
<a name="l00079"></a>00079   hack-&gt;m = sourceModel();
<a name="l00080"></a>00080   Q_ASSERT( sourceIndex.isValid() );
<a name="l00081"></a>00081   <span class="keywordflow">return</span> sourceIndex;
<a name="l00082"></a>00082 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ad5f40e26b76c548b0c50205767d5fdb"></a><!-- doxytag: member="KDChart::AbstractProxyModel::parent" ref="ad5f40e26b76c548b0c50205767d5fdb" args="(const QModelIndex &amp;index) const" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QModelIndex KDChart::AbstractProxyModel::parent           </td>
          <td>(</td>
          <td class="paramtype">const QModelIndex &amp;&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
[reimplemented] 
<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00090">90</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.
<p>
References <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00052">mapFromSource()</a>, and <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00065">mapToSource()</a>.<div class="fragment"><pre class="fragment"><a name="l00091"></a>00091 {
<a name="l00092"></a>00092     Q_ASSERT(sourceModel());
<a name="l00093"></a>00093     <span class="keywordflow">return</span> <a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#4a00cfa035656fb3ec5e277927cfe730">mapFromSource</a>(sourceModel()-&gt;<a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#ad5f40e26b76c548b0c50205767d5fdb">parent</a>( <a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#58dbf3af65122928356f74e2ad98b44e">mapToSource</a>(<a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#b481e34906669ef6bbd433736ef98671">index</a>) ));
<a name="l00094"></a>00094 }
</pre></div>
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_k_d_chart_abstract_proxy_model_8h-source.html">KDChartAbstractProxyModel.h</a><li><a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Sep 17 16:18:08 2007 for KD Chart 2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>

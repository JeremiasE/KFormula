<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>KD Chart 2: KDChartCartesianAxis.cpp File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_c4e2aed91326a361eee69bb54811986e.html">src</a></div>
<h1>KDChartCartesianAxis.cpp File Reference</h1>
<p>
<code>#include &lt;cmath&gt;</code><br>
<code>#include &lt;QtDebug&gt;</code><br>
<code>#include &lt;QPainter&gt;</code><br>
<code>#include &lt;QPen&gt;</code><br>
<code>#include &lt;QBrush&gt;</code><br>
<code>#include &lt;QApplication&gt;</code><br>
<code>#include &quot;<a class="el" href="_k_d_chart_paint_context_8h-source.html">KDChartPaintContext.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_k_d_chart_chart_8h-source.html">KDChartChart.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_k_d_chart_cartesian_axis_8h-source.html">KDChartCartesianAxis.h</a>&quot;</code><br>
<code>#include &quot;KDChartCartesianAxis_p.h&quot;</code><br>
<code>#include &quot;<a class="el" href="_k_d_chart_abstract_cartesian_diagram_8h-source.html">KDChartAbstractCartesianDiagram.h</a>&quot;</code><br>
<code>#include &quot;KDChartAbstractGrid.h&quot;</code><br>
<code>#include &quot;KDChartPainterSaver_p.h&quot;</code><br>
<code>#include &quot;<a class="el" href="_k_d_chart_layout_items_8h-source.html">KDChartLayoutItems.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_k_d_chart_bar_diagram_8h-source.html">KDChartBarDiagram.h</a>&quot;</code><br>
<code>#include &lt;KDABLibFakes&gt;</code><br>
<code>#include &lt;limits&gt;</code><br>

<p>
Include dependency graph for KDChartCartesianAxis.cpp:<p><center><img src="_k_d_chart_cartesian_axis_8cpp__incl.png" border="0" usemap="#KDChartCartesianAxis.cpp_map" alt=""></center>
<map name="KDChartCartesianAxis.cpp_map">
<area href="_k_d_chart_paint_context_8h.html" shape="rect" coords="265,360,441,387" alt="">
<area href="_k_d_chart_chart_8h.html" shape="rect" coords="289,411,417,437" alt="">
<area href="_k_d_chart_cartesian_axis_8h.html" shape="rect" coords="819,487,1003,513" alt="">
<area href="_k_d_chart_abstract_cartesian_diagram_8h.html" shape="rect" coords="501,512,771,539" alt="">
<area href="_k_d_chart_layout_items_8h.html" shape="rect" coords="267,208,440,235" alt="">
<area href="_k_d_chart_bar_diagram_8h.html" shape="rect" coords="268,563,439,589" alt="">
</map>

<p>
<a href="_k_d_chart_cartesian_axis_8cpp-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_d_chart_cartesian_axis_8cpp.html#7cbfe8b0b7f4d0c69a28e0b9ffce7335">d</a>&nbsp;&nbsp;&nbsp;(d_func())</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_d_chart_cartesian_axis_8cpp.html#7586b3c2772742eeb0493460ce2da9f0">calculateNextLabel</a> (qreal &amp;labelValue, qreal step, bool isLogarithmic)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_d_chart_cartesian_axis_8cpp.html#4a2f03ed92ebb3cae240ef27c3ee0c68">calculateOverlap</a> (int i, int first, int last, int measure, bool isBarDiagram, int &amp;firstOverlap, int &amp;lastOverlap)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_k_d_chart_cartesian_axis_8cpp.html#5dc92d381776d6ab459a0df600e5d156">referenceDiagramIsBarDiagram</a> (const <a class="el" href="class_k_d_chart_1_1_abstract_diagram.html">AbstractDiagram</a> *diagram)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="7cbfe8b0b7f4d0c69a28e0b9ffce7335"></a><!-- doxytag: member="KDChartCartesianAxis.cpp::d" ref="7cbfe8b0b7f4d0c69a28e0b9ffce7335" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define d&nbsp;&nbsp;&nbsp;(d_func())          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html#l00050">50</a> of file <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html">KDChartCartesianAxis.cpp</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7586b3c2772742eeb0493460ce2da9f0"></a><!-- doxytag: member="KDChartCartesianAxis.cpp::calculateNextLabel" ref="7586b3c2772742eeb0493460ce2da9f0" args="(qreal &amp;labelValue, qreal step, bool isLogarithmic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void calculateNextLabel           </td>
          <td>(</td>
          <td class="paramtype">qreal &amp;&nbsp;</td>
          <td class="paramname"> <em>labelValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">qreal&nbsp;</td>
          <td class="paramname"> <em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isLogarithmic</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html#l00349">349</a> of file <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html">KDChartCartesianAxis.cpp</a>.
<p>
Referenced by <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html#l00374">KDChart::CartesianAxis::paintCtx()</a>.<div class="fragment"><pre class="fragment"><a name="l00350"></a>00350 {
<a name="l00351"></a>00351     <span class="keywordflow">if</span> ( isLogarithmic ){
<a name="l00352"></a>00352         labelValue *= 10.0;
<a name="l00353"></a>00353         <span class="keywordflow">if</span>( labelValue == 0.0 )
<a name="l00354"></a>00354             labelValue = 1.0;<span class="comment">//std::numeric_limits&lt; double &gt;::epsilon();</span>
<a name="l00355"></a>00355     }<span class="keywordflow">else</span>{
<a name="l00356"></a>00356         <span class="comment">//qDebug() &lt;&lt; "new axis label:" &lt;&lt; labelValue &lt;&lt; "+" &lt;&lt; step &lt;&lt; "=" &lt;&lt; labelValue+step;</span>
<a name="l00357"></a>00357         labelValue += step;
<a name="l00358"></a>00358     }
<a name="l00359"></a>00359 <span class="comment">/*    if( qAbs(labelValue) &lt; 1.0e-15 )</span>
<a name="l00360"></a>00360 <span class="comment">        labelValue = 0.0;*/</span>
<a name="l00361"></a>00361 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4a2f03ed92ebb3cae240ef27c3ee0c68"></a><!-- doxytag: member="KDChartCartesianAxis.cpp::calculateOverlap" ref="4a2f03ed92ebb3cae240ef27c3ee0c68" args="(int i, int first, int last, int measure, bool isBarDiagram, int &amp;firstOverlap, int &amp;lastOverlap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void calculateOverlap           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>measure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isBarDiagram</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>firstOverlap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>lastOverlap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html#l01012">1012</a> of file <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html">KDChartCartesianAxis.cpp</a>.
<p>
Referenced by <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html#l01038">KDChart::CartesianAxis::maximumSize()</a>.<div class="fragment"><pre class="fragment"><a name="l01016"></a>01016 {
<a name="l01017"></a>01017     <span class="keywordflow">if</span>( i == first ){
<a name="l01018"></a>01018         <span class="keywordflow">if</span>( isBarDiagram ){
<a name="l01019"></a>01019             <span class="comment">//TODO(khz): Calculate the amount of left overlap</span>
<a name="l01020"></a>01020             <span class="comment">//           for bar diagrams.</span>
<a name="l01021"></a>01021         }<span class="keywordflow">else</span>{
<a name="l01022"></a>01022             firstOverlap = measure / 2;
<a name="l01023"></a>01023         }
<a name="l01024"></a>01024     }
<a name="l01025"></a>01025     <span class="comment">// we test both bounds in on go: first and last might be equal</span>
<a name="l01026"></a>01026     <span class="keywordflow">if</span>( i == last ){
<a name="l01027"></a>01027         <span class="keywordflow">if</span>( isBarDiagram ){
<a name="l01028"></a>01028             <span class="comment">//TODO(khz): Calculate the amount of right overlap</span>
<a name="l01029"></a>01029             <span class="comment">//           for bar diagrams.</span>
<a name="l01030"></a>01030         }<span class="keywordflow">else</span>{
<a name="l01031"></a>01031             lastOverlap = measure / 2;
<a name="l01032"></a>01032         }
<a name="l01033"></a>01033     }
<a name="l01034"></a>01034 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5dc92d381776d6ab459a0df600e5d156"></a><!-- doxytag: member="KDChartCartesianAxis.cpp::referenceDiagramIsBarDiagram" ref="5dc92d381776d6ab459a0df600e5d156" args="(const AbstractDiagram *diagram)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool referenceDiagramIsBarDiagram           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_k_d_chart_1_1_abstract_diagram.html">AbstractDiagram</a> *&nbsp;</td>
          <td class="paramname"> <em>diagram</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html#l00364">364</a> of file <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html">KDChartCartesianAxis.cpp</a>.
<p>
References <a class="el" href="_k_d_chart_abstract_cartesian_diagram_8cpp-source.html#l00148">KDChart::AbstractCartesianDiagram::referenceDiagram()</a>.
<p>
Referenced by <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html#l01038">KDChart::CartesianAxis::maximumSize()</a>, and <a class="el" href="_k_d_chart_cartesian_axis_8cpp-source.html#l00374">KDChart::CartesianAxis::paintCtx()</a>.<div class="fragment"><pre class="fragment"><a name="l00365"></a>00365 {
<a name="l00366"></a>00366     <span class="keyword">const</span> <a class="code" href="class_k_d_chart_1_1_abstract_cartesian_diagram.html">AbstractCartesianDiagram</a> * dia =
<a name="l00367"></a>00367             qobject_cast&lt; const AbstractCartesianDiagram * &gt;( diagram );
<a name="l00368"></a>00368     <span class="keywordflow">if</span>( dia &amp;&amp; dia-&gt;<a class="code" href="class_k_d_chart_1_1_abstract_cartesian_diagram.html#dcfa438dc823515a4dacdad723a3e42d">referenceDiagram</a>() )
<a name="l00369"></a>00369         dia = dia-&gt;<a class="code" href="class_k_d_chart_1_1_abstract_cartesian_diagram.html#dcfa438dc823515a4dacdad723a3e42d">referenceDiagram</a>();
<a name="l00370"></a>00370     <span class="keywordflow">return</span> qobject_cast&lt; const BarDiagram* &gt;( dia ) != 0;
<a name="l00371"></a>00371 }
</pre></div>
<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Sep 17 16:17:10 2007 for KD Chart 2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
